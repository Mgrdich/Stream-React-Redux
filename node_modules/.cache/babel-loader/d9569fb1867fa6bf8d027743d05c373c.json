{"ast":null,"code":"export default function (p) {\n  /* p.velocity1Intial = 20;*/\n\n  /* p.velocity2Intial = -40;*/\n\n  /* p.mass1 = 20;*/\n\n  /* p.mass2 = 10;*/\n\n  /* p.TMass = p.mass1 + p.mass2;*/\n\n  /*p.height1 = 300;*/\n\n  /*p.height2 = 150;*/\n\n  /*p.width1 = 100;*/\n\n  /*p.width2 = 100;*/\n  p.DetectCollison = false;\n  /* p.preload = () => {\r\n     p.myCustomRedrawAccordingToNewPropsHandler = function (props) {\r\n       if (props.p5Props) {\r\n         console.log(props.p5Props);\r\n  \n         p.velocity1Intial = Number(props.p5Props.velocity1);\r\n         p.velocity2Intial = -Number(props.p5Props.velocity2);\r\n         p.mass1 = Number(props.p5Props.mass1);\r\n         p.mass2 = Number(props.p5Props.mass2);\r\n         p.TMass = p.mass1 + p.mass2;\r\n         p.height1 = Number(props.p5Props.height1);\r\n         p.height2 = Number(props.p5Props.height2);\r\n         p.width1 = Number(props.p5Props.width1);\r\n         p.width2 = Number(props.p5Props.width2);\r\n         p.ButtonClicked = props.p5Props.start;\r\n         // p.ButtonClickedR = props.p5Props.reset;\r\n         p.Inelastic = props.p5Props.Inelastic;\r\n         p.x1 = p.width1 / 2;\r\n         p.remainder =\r\n             ((p.windowWidth / 1.5) - p.width2 / 2 - p.width1 / 2) %\r\n             (p.velocity1Intial + -p.velocity2Intial);\r\n         p.x2 = (p.windowWidth / 1.5) - p.width2 / 2;\r\n  \n  \n       }\r\n     };\r\n   };*/\n\n  p.setup = function () {\n    p.createCanvas(p.windowWidth / 1.5, p.windowHeight / 1.5);\n  };\n\n  p.draw = function () {\n    p.background(0);\n\n    if (p.ButtonClicked) {\n      if (!p.Inelastic) CollisionDetectElastic();else {\n        CollisonInelastic();\n      }\n      p.rectMode(p.CENTER);\n      p.fill(\"green\");\n      p.rect(p.x1, 200, p.width1, p.height1, 20);\n      p.fill(255, 204, 0);\n      p.rect(p.x2, 200, p.width2, p.height2, 20);\n    } else {\n      reset();\n      console.log(\" i am reseted\");\n    }\n  };\n\n  var CollisionDetectElastic = function CollisionDetectElastic() {\n    var velocity2Final = (2 * p.mass1 * p.velocity1Intial + p.velocity2Intial * (p.mass2 - p.mass1)) / p.TMass;\n    var velocity1Final = (2 * p.mass2 * p.velocity2Intial + p.velocity1Intial * (p.mass1 - p.mass2)) / p.TMass;\n    /*   console.log(\"Vf2=\", velocity2Final);\r\n          console.log(\"V1f=\", velocity1Final);*/\n\n    var distance = p.dist(p.x1, 200, p.x2, 200); // console.log(distance);\n\n    if (distance <= (p.width1 + p.width2) / 2 && distance <= (p.width1 + p.width2) / 2 || p.DetectCollison) {\n      p.DetectCollison = true;\n      p.x1 += velocity1Final;\n      p.x2 += velocity2Final;\n    } else if (!p.DetectCollison) {\n      p.x1 += p.velocity1Intial;\n      p.x2 += p.velocity2Intial;\n    }\n  };\n\n  var CollisonInelastic = function CollisonInelastic() {\n    var TVelocity = (p.mass1 * p.velocity1Intial + p.mass2 * p.velocity2Intial) / p.TMass;\n    var distance = p.dist(p.x1, 200, p.x2, 200);\n\n    if (distance <= (p.width1 + p.width2) / 2 + p.remainder && distance <= (p.width1 + p.width2) / 2 - p.remainder || p.DetectCollison) {\n      p.DetectCollison = true;\n      p.x1 += TVelocity;\n      p.x2 += TVelocity;\n    }\n\n    if (!p.DetectCollison) {\n      p.x1 += p.velocity1Intial;\n      p.x2 += p.velocity2Intial;\n    }\n  };\n\n  p.windowResized = function () {\n    p.resizeCanvas(p.windowWidth / 1.5, p.windowHeight / 1.5);\n  };\n\n  var reset = function reset() {\n    p.myCustomRedrawAccordingToNewPropsHandler = function (props) {\n      if (props.p5Props) {\n        console.log(props.p5Props);\n        p.velocity1Intial = Number(props.p5Props.velocity1);\n        p.velocity2Intial = -Number(props.p5Props.velocity2);\n        p.mass1 = Number(props.p5Props.mass1);\n        p.mass2 = Number(props.p5Props.mass2);\n        p.TMass = p.mass1 + p.mass2;\n        p.height1 = Number(props.p5Props.height1);\n        p.height2 = Number(props.p5Props.height2);\n        p.width1 = Number(props.p5Props.width1);\n        p.width2 = Number(props.p5Props.width2);\n        p.ButtonClicked = props.p5Props.start; // p.ButtonClickedR = props.p5Props.reset;\n\n        p.Inelastic = props.p5Props.Inelastic;\n        p.x1 = p.width1 / 2;\n        p.remainder = (p.windowWidth / 1.5 - p.width2 / 2 - p.width1 / 2) % (p.velocity1Intial + -p.velocity2Intial);\n        p.x2 = p.windowWidth / 1.5 - p.width2 / 2;\n      }\n    };\n  };\n}","map":{"version":3,"sources":["C:\\Users\\Mgo\\PhpstormProjects\\untitled\\src\\Component\\sketch1.js"],"names":["p","DetectCollison","setup","createCanvas","windowWidth","windowHeight","draw","background","ButtonClicked","Inelastic","CollisionDetectElastic","CollisonInelastic","rectMode","CENTER","fill","rect","x1","width1","height1","x2","width2","height2","reset","console","log","velocity2Final","mass1","velocity1Intial","velocity2Intial","mass2","TMass","velocity1Final","distance","dist","TVelocity","remainder","windowResized","resizeCanvas","myCustomRedrawAccordingToNewPropsHandler","props","p5Props","Number","velocity1","velocity2","start"],"mappings":"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","sourcesContent":["export default function(p) {\r\n  /* p.velocity1Intial = 20;*/\r\n  /* p.velocity2Intial = -40;*/\r\n  /* p.mass1 = 20;*/\r\n  /* p.mass2 = 10;*/\r\n  /* p.TMass = p.mass1 + p.mass2;*/\r\n  /*p.height1 = 300;*/\r\n  /*p.height2 = 150;*/\r\n  /*p.width1 = 100;*/\r\n  /*p.width2 = 100;*/\r\n  p.DetectCollison = false;\r\n\r\n /* p.preload = () => {\r\n    p.myCustomRedrawAccordingToNewPropsHandler = function (props) {\r\n      if (props.p5Props) {\r\n        console.log(props.p5Props);\r\n\r\n        p.velocity1Intial = Number(props.p5Props.velocity1);\r\n        p.velocity2Intial = -Number(props.p5Props.velocity2);\r\n        p.mass1 = Number(props.p5Props.mass1);\r\n        p.mass2 = Number(props.p5Props.mass2);\r\n        p.TMass = p.mass1 + p.mass2;\r\n        p.height1 = Number(props.p5Props.height1);\r\n        p.height2 = Number(props.p5Props.height2);\r\n        p.width1 = Number(props.p5Props.width1);\r\n        p.width2 = Number(props.p5Props.width2);\r\n        p.ButtonClicked = props.p5Props.start;\r\n        // p.ButtonClickedR = props.p5Props.reset;\r\n        p.Inelastic = props.p5Props.Inelastic;\r\n        p.x1 = p.width1 / 2;\r\n        p.remainder =\r\n            ((p.windowWidth / 1.5) - p.width2 / 2 - p.width1 / 2) %\r\n            (p.velocity1Intial + -p.velocity2Intial);\r\n        p.x2 = (p.windowWidth / 1.5) - p.width2 / 2;\r\n\r\n\r\n      }\r\n    };\r\n  };*/\r\n  p.setup = () => {\r\n    p.createCanvas(p.windowWidth / 1.5, p.windowHeight / 1.5);\r\n\r\n  };\r\n\r\n  p.draw = () => {\r\n    p.background(0);\r\n    if (p.ButtonClicked) {\r\n      if (!p.Inelastic) CollisionDetectElastic();\r\n      else {\r\n        CollisonInelastic();\r\n      }\r\n\r\n      p.rectMode(p.CENTER);\r\n      p.fill(\"green\");\r\n      p.rect(p.x1, 200, p.width1, p.height1, 20);\r\n      p.fill(255, 204, 0);\r\n      p.rect(p.x2, 200, p.width2, p.height2, 20);\r\n    } else\r\n    {reset();\r\n    console.log(\" i am reseted\");\r\n    }\r\n  };\r\n\r\n  const CollisionDetectElastic = () => {\r\n    let velocity2Final =\r\n        (2 * p.mass1 * p.velocity1Intial +\r\n            p.velocity2Intial * (p.mass2 - p.mass1)) /\r\n        p.TMass;\r\n    let velocity1Final =\r\n        (2 * p.mass2 * p.velocity2Intial +\r\n            p.velocity1Intial * (p.mass1 - p.mass2)) /\r\n        p.TMass;\r\n\r\n    /*   console.log(\"Vf2=\", velocity2Final);\r\n          console.log(\"V1f=\", velocity1Final);*/\r\n\r\n    let distance = p.dist(p.x1, 200, p.x2, 200);\r\n\r\n    // console.log(distance);\r\n\r\n    if (\r\n        (distance <= (p.width1 + p.width2) / 2 &&\r\n            distance <= (p.width1 + p.width2) / 2) ||\r\n        p.DetectCollison\r\n    ) {\r\n      p.DetectCollison = true;\r\n      p.x1 += velocity1Final;\r\n      p.x2 += velocity2Final;\r\n    } else if (!p.DetectCollison) {\r\n      p.x1 += p.velocity1Intial;\r\n      p.x2 += p.velocity2Intial;\r\n    }\r\n  };\r\n\r\n  const CollisonInelastic = () => {\r\n    let TVelocity =\r\n        (p.mass1 * p.velocity1Intial + p.mass2 * p.velocity2Intial) / p.TMass;\r\n    let distance = p.dist(p.x1, 200, p.x2, 200);\r\n    if (\r\n        (distance <= (p.width1 + p.width2) / 2 + p.remainder &&\r\n            distance <= (p.width1 + p.width2) / 2 - p.remainder) ||\r\n        p.DetectCollison\r\n    ) {\r\n      p.DetectCollison = true;\r\n      p.x1 += TVelocity;\r\n      p.x2 += TVelocity;\r\n    }\r\n    if (!p.DetectCollison) {\r\n      p.x1 += p.velocity1Intial;\r\n      p.x2 += p.velocity2Intial;\r\n    }\r\n  };\r\n  p.windowResized = () => {\r\n    p.resizeCanvas(p.windowWidth / 1.5, p.windowHeight / 1.5);\r\n  };\r\n  const reset = () => {\r\n    p.myCustomRedrawAccordingToNewPropsHandler = function (props) {\r\n      if (props.p5Props) {\r\n        console.log(props.p5Props);\r\n\r\n        p.velocity1Intial = Number(props.p5Props.velocity1);\r\n        p.velocity2Intial = -Number(props.p5Props.velocity2);\r\n        p.mass1 = Number(props.p5Props.mass1);\r\n        p.mass2 = Number(props.p5Props.mass2);\r\n        p.TMass = p.mass1 + p.mass2;\r\n        p.height1 = Number(props.p5Props.height1);\r\n        p.height2 = Number(props.p5Props.height2);\r\n        p.width1 = Number(props.p5Props.width1);\r\n        p.width2 = Number(props.p5Props.width2);\r\n        p.ButtonClicked = props.p5Props.start;\r\n        // p.ButtonClickedR = props.p5Props.reset;\r\n        p.Inelastic = props.p5Props.Inelastic;\r\n        p.x1 = p.width1 / 2;\r\n        p.remainder =\r\n            ((p.windowWidth / 1.5) - p.width2 / 2 - p.width1 / 2) %\r\n            (p.velocity1Intial + -p.velocity2Intial);\r\n        p.x2 = (p.windowWidth / 1.5) - p.width2 / 2;\r\n\r\n      }\r\n    };\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}