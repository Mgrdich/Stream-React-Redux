{"ast":null,"code":"export default function (p) {\n  p.height1 = 300;\n  p.height2 = 150;\n  p.width1 = 100;\n  p.width2 = 100;\n  p.x1 = p.width1 / 2;\n  p.x2 = p.windowWidth / 1.5 - p.width2 / 2;\n  p.DetectCollison = false;\n\n  var reset1 = function reset1() {\n    p.myCustomRedrawAccordingToNewPropsHandler = function (props) {\n      if (props.p5Props) {\n        //  console.log(props.p5Props);\n        p.velocity1Intial = Number(props.p5Props.velocity1);\n        p.velocity2Intial = -Number(props.p5Props.velocity2);\n        p.mass1 = Number(props.p5Props.mass1);\n        p.mass2 = Number(props.p5Props.mass2);\n        p.TMass = p.mass1 + p.mass2;\n        p.height1 = Number(props.p5Props.height1);\n        p.height2 = Number(props.p5Props.height2);\n        p.width1 = Number(props.p5Props.width1);\n        p.width2 = Number(props.p5Props.width2);\n        p.ButtonClicked = props.p5Props.start;\n        p.ButtonClickedR = props.p5Props.reset;\n        p.Inelastic = props.p5Props.Inelastic;\n        p.x1 = p.width1 / 2;\n        p.remainder = (p.windowWidth / 1.5 - p.width2 / 2 - p.width1 / 2) % (p.velocity1Intial + -p.velocity2Intial);\n        p.x2 = p.windowWidth / 1.5 - p.width2 / 2; //  console.log(p.x1, p.x2);\n      }\n    };\n  };\n\n  p.preload = function () {\n    reset1();\n  };\n\n  p.setup = function () {\n    p.createCanvas(p.windowWidth / 1.5, p.windowHeight / 1.5);\n  };\n\n  p.draw = function () {\n    p.background(0);\n    p.rectMode(p.CENTER);\n    p.fill(\"green\");\n    p.rect(p.x1, p.height / 2, p.width1, p.height1, 20);\n    p.fill(255, 204, 0);\n    p.rect(p.x2, p.height / 2, p.width2, p.height2, 20);\n\n    if (p.ButtonClicked) {\n      if (!p.Inelastic) CollisionDetectElastic();else {\n        CollisonInelastic();\n      }\n    } else if (!p.ButtonClicked && p.ButtonClickedR) {\n      reset1();\n      p.DetectCollison = false;\n    }\n  };\n\n  var CollisionDetectElastic = function CollisionDetectElastic() {\n    var velocity2Final = (2 * p.mass1 * p.velocity1Intial + p.velocity2Intial * (p.mass2 - p.mass1)) / p.TMass;\n    var velocity1Final = (2 * p.mass2 * p.velocity2Intial + p.velocity1Intial * (p.mass1 - p.mass2)) / p.TMass;\n    /*   console.log(\"Vf2=\", velocity2Final);\r\n          console.log(\"V1f=\", velocity1Final);*/\n\n    var distance = p.dist(p.x1, 200, p.x2, 200); // console.log(distance);\n\n    if (distance - (p.width1 + p.width2) / 2 < Number.EPSILON || p.DetectCollison) {\n      p.DetectCollison = true;\n      p.x1 += velocity1Final;\n      p.x2 += velocity2Final;\n    } else if (!p.DetectCollison) {\n      p.x1 += p.velocity1Intial;\n      p.x2 += p.velocity2Intial;\n    }\n  };\n\n  var CollisonInelastic = function CollisonInelastic() {\n    var TVelocity = (p.mass1 * p.velocity1Intial + p.mass2 * p.velocity2Intial) / p.TMass;\n    var distance = p.dist(p.x1, 200, p.x2, 200);\n\n    if (distance - (p.width1 + p.width2) / 2 < Number.EPSILON || p.DetectCollison) {\n      p.DetectCollison = true;\n      p.x1 += TVelocity;\n      p.x2 += TVelocity;\n    }\n\n    if (!p.DetectCollison) {\n      p.x1 += p.velocity1Intial;\n      p.x2 += p.velocity2Intial;\n    }\n  };\n\n  p.windowResized = function () {\n    p.resizeCanvas(p.windowWidth / 1.5, p.windowHeight / 1.5);\n  };\n}","map":{"version":3,"sources":["C:\\Users\\Mgo\\PhpstormProjects\\untitled\\src\\Component\\sketch1.js"],"names":["p","height1","height2","width1","width2","x1","x2","windowWidth","DetectCollison","reset1","myCustomRedrawAccordingToNewPropsHandler","props","p5Props","velocity1Intial","Number","velocity1","velocity2Intial","velocity2","mass1","mass2","TMass","ButtonClicked","start","ButtonClickedR","reset","Inelastic","remainder","preload","setup","createCanvas","windowHeight","draw","background","rectMode","CENTER","fill","rect","height","CollisionDetectElastic","CollisonInelastic","velocity2Final","velocity1Final","distance","dist","EPSILON","TVelocity","windowResized","resizeCanvas"],"mappings":"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","sourcesContent":["export default function(p) {\r\n  p.height1 = 300;\r\n  p.height2 = 150;\r\n  p.width1 = 100;\r\n  p.width2 = 100;\r\n  p.x1 = p.width1 / 2;\r\n  p.x2 = p.windowWidth / 1.5 - p.width2 / 2;\r\n  p.DetectCollison = false;\r\n  const reset1 = () => {\r\n    p.myCustomRedrawAccordingToNewPropsHandler = function(props) {\r\n      if (props.p5Props) {\r\n        //  console.log(props.p5Props);\r\n\r\n        p.velocity1Intial = Number(props.p5Props.velocity1);\r\n        p.velocity2Intial = -Number(props.p5Props.velocity2);\r\n        p.mass1 = Number(props.p5Props.mass1);\r\n        p.mass2 = Number(props.p5Props.mass2);\r\n        p.TMass = p.mass1 + p.mass2;\r\n        p.height1 = Number(props.p5Props.height1);\r\n        p.height2 = Number(props.p5Props.height2);\r\n        p.width1 = Number(props.p5Props.width1);\r\n        p.width2 = Number(props.p5Props.width2);\r\n        p.ButtonClicked = props.p5Props.start;\r\n        p.ButtonClickedR = props.p5Props.reset;\r\n        p.Inelastic = props.p5Props.Inelastic;\r\n        p.x1 = p.width1 / 2;\r\n        p.remainder =\r\n          (p.windowWidth / 1.5 - p.width2 / 2 - p.width1 / 2) %\r\n          (p.velocity1Intial + -p.velocity2Intial);\r\n        p.x2 = p.windowWidth / 1.5 - p.width2 / 2;\r\n        //  console.log(p.x1, p.x2);\r\n      }\r\n    };\r\n  };\r\n  p.preload = () => {\r\n    reset1();\r\n  };\r\n  p.setup = () => {\r\n    p.createCanvas(p.windowWidth / 1.5, p.windowHeight / 1.5);\r\n  };\r\n\r\n  p.draw = () => {\r\n    p.background(0);\r\n    p.rectMode(p.CENTER);\r\n    p.fill(\"green\");\r\n    p.rect(p.x1, p.height / 2, p.width1, p.height1, 20);\r\n    p.fill(255, 204, 0);\r\n    p.rect(p.x2, p.height / 2, p.width2, p.height2, 20);\r\n\r\n    if (p.ButtonClicked) {\r\n      if (!p.Inelastic) CollisionDetectElastic();\r\n      else {\r\n        CollisonInelastic();\r\n      }\r\n    } else if (!p.ButtonClicked && p.ButtonClickedR) {\r\n      reset1();\r\n      p.DetectCollison = false;\r\n    }\r\n  };\r\n\r\n  const CollisionDetectElastic = () => {\r\n    let velocity2Final =\r\n      (2 * p.mass1 * p.velocity1Intial +\r\n        p.velocity2Intial * (p.mass2 - p.mass1)) /\r\n      p.TMass;\r\n    let velocity1Final =\r\n      (2 * p.mass2 * p.velocity2Intial +\r\n        p.velocity1Intial * (p.mass1 - p.mass2)) /\r\n      p.TMass;\r\n\r\n    /*   console.log(\"Vf2=\", velocity2Final);\r\n          console.log(\"V1f=\", velocity1Final);*/\r\n\r\n    let distance = p.dist(p.x1, 200, p.x2, 200);\r\n\r\n    // console.log(distance);\r\n\r\n    if (\r\n      distance - (p.width1 + p.width2) / 2 < Number.EPSILON ||\r\n      p.DetectCollison\r\n    ) {\r\n      p.DetectCollison = true;\r\n      p.x1 += velocity1Final;\r\n      p.x2 += velocity2Final;\r\n    } else if (!p.DetectCollison) {\r\n      p.x1 += p.velocity1Intial;\r\n      p.x2 += p.velocity2Intial;\r\n    }\r\n  };\r\n\r\n  const CollisonInelastic = () => {\r\n    let TVelocity =\r\n      (p.mass1 * p.velocity1Intial + p.mass2 * p.velocity2Intial) / p.TMass;\r\n    let distance = p.dist(p.x1, 200, p.x2, 200);\r\n    if (\r\n      distance - (p.width1 + p.width2) / 2 < Number.EPSILON ||\r\n      p.DetectCollison\r\n    ) {\r\n      p.DetectCollison = true;\r\n      p.x1 += TVelocity;\r\n      p.x2 += TVelocity;\r\n    }\r\n    if (!p.DetectCollison) {\r\n      p.x1 += p.velocity1Intial;\r\n      p.x2 += p.velocity2Intial;\r\n    }\r\n  };\r\n  p.windowResized = () => {\r\n    p.resizeCanvas(p.windowWidth / 1.5, p.windowHeight / 1.5);\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}