{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Mgo\\\\PhpstormProjects\\\\untitled\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Mgo\\\\PhpstormProjects\\\\untitled\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Mgo\\\\PhpstormProjects\\\\untitled\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Mgo\\\\PhpstormProjects\\\\untitled\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Mgo\\\\PhpstormProjects\\\\untitled\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Mgo\\\\PhpstormProjects\\\\untitled\\\\src\\\\Component\\\\P5Wrapper.js\";\nimport React, { Component } from 'react';\nimport p5 from \"p5\";\nimport PropTypes from 'prop-types';\n\nvar P5Wrapper =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(P5Wrapper, _Component);\n\n  function P5Wrapper() {\n    _classCallCheck(this, P5Wrapper);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(P5Wrapper).apply(this, arguments));\n  }\n\n  _createClass(P5Wrapper, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.canvas = new p5(this.props.sketch, this.wrapper);\n\n      if (this.canvas.myCustomRedrawAccordingToNewPropsHandler) {\n        this.canvas.myCustomRedrawAccordingToNewPropsHandler(this.props);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newprops) {\n      if (this.props.sketch !== newprops.sketch) {\n        this.wrapper.removeChild(this.wrapper.childNodes[0]);\n        this.canvas = new p5(newprops.sketch, this.wrapper);\n      }\n\n      if (this.canvas.myCustomRedrawAccordingToNewPropsHandler) {\n        this.canvas.myCustomRedrawAccordingToNewPropsHandler(newprops);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        ref: function ref(wrapper) {\n          return _this.wrapper = wrapper;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }), \";\");\n    }\n  }]);\n\n  return P5Wrapper;\n}(Component);\n\nP5Wrapper.propTypes = {\n  p5Props: PropTypes.object.isRequired\n};\nexport default P5Wrapper;","map":{"version":3,"sources":["C:\\Users\\Mgo\\PhpstormProjects\\untitled\\src\\Component\\P5Wrapper.js"],"names":["React","Component","p5","PropTypes","P5Wrapper","canvas","props","sketch","wrapper","myCustomRedrawAccordingToNewPropsHandler","newprops","removeChild","childNodes","propTypes","p5Props","object","isRequired"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,EAAP,MAAe,IAAf;AAEA,OAAOC,SAAP,MAAsB,YAAtB;;IAIMC,S;;;;;;;;;;;;;wCAKkB;AAChB,WAAKC,MAAL,GAAc,IAAIH,EAAJ,CAAO,KAAKI,KAAL,CAAWC,MAAlB,EAA0B,KAAKC,OAA/B,CAAd;;AACA,UAAI,KAAKH,MAAL,CAAYI,wCAAhB,EAA2D;AACvD,aAAKJ,MAAL,CAAYI,wCAAZ,CAAqD,KAAKH,KAA1D;AACH;AACJ;;;8CAEyBI,Q,EAAU;AAChC,UAAG,KAAKJ,KAAL,CAAWC,MAAX,KAAsBG,QAAQ,CAACH,MAAlC,EAAyC;AACrC,aAAKC,OAAL,CAAaG,WAAb,CAAyB,KAAKH,OAAL,CAAaI,UAAb,CAAwB,CAAxB,CAAzB;AACA,aAAKP,MAAL,GAAc,IAAIH,EAAJ,CAAOQ,QAAQ,CAACH,MAAhB,EAAwB,KAAKC,OAA7B,CAAd;AACH;;AACD,UAAI,KAAKH,MAAL,CAAYI,wCAAhB,EAA2D;AACvD,aAAKJ,MAAL,CAAYI,wCAAZ,CAAqDC,QAArD;AACH;AACJ;;;6BAGQ;AAAA;;AACL,aACI,0CACI;AAAK,QAAA,GAAG,EAAE,aAAAF,OAAO;AAAA,iBAAI,KAAI,CAACA,OAAL,GAAeA,OAAnB;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,MADJ;AAKH;;;;EA7BmBP,S;;AAAlBG,S,CACKS,S,GAAY;AACfC,EAAAA,OAAO,EAAEX,SAAS,CAACY,MAAV,CAAiBC;AADX,C;AAgCvB,eAAeZ,SAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport p5 from \"p5\";\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\n\r\nclass P5Wrapper extends Component {\r\n    static propTypes = {\r\n        p5Props: PropTypes.object.isRequired,\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.canvas = new p5(this.props.sketch, this.wrapper);\r\n        if( this.canvas.myCustomRedrawAccordingToNewPropsHandler ) {\r\n            this.canvas.myCustomRedrawAccordingToNewPropsHandler(this.props);\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(newprops) {\r\n        if(this.props.sketch !== newprops.sketch){\r\n            this.wrapper.removeChild(this.wrapper.childNodes[0]);\r\n            this.canvas = new p5(newprops.sketch, this.wrapper);\r\n        }\r\n        if( this.canvas.myCustomRedrawAccordingToNewPropsHandler ) {\r\n            this.canvas.myCustomRedrawAccordingToNewPropsHandler(newprops);\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div ref={wrapper => this.wrapper = wrapper}/>;\r\n            </>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default P5Wrapper;"]},"metadata":{},"sourceType":"module"}